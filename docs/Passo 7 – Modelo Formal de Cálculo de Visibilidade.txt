Passo 7 â€“ Modelo Formal de CÃ¡lculo de Visibilidade
Modelo Formal de CÃ¡lculo da Visibilidade de Objetos
1. Objetivo do Documento

Este documento tem como objetivo definir, de forma formal, matemÃ¡tica e fisicamente consistente, o mÃ©todo utilizado pelo simulador para calcular quanto de um objeto fÃ­sico Ã© visÃ­vel para um observador, dadas as seguintes condiÃ§Ãµes configurÃ¡veis:

Geometria da Terra (curva ou plana)

Altura do observador

DistÃ¢ncia e altura do objeto

Modelo atmosfÃ©rico selecionado

NÃ­vel de complexidade da refraÃ§Ã£o

Este documento nÃ£o define arquitetura de software, mas sim o modelo fÃ­sico-matemÃ¡tico que fundamenta a funcionalidade principal do simulador.

2. PrincÃ­pio FÃ­sico Fundamental

O cÃ¡lculo de visibilidade baseia-se no princÃ­pio da reversibilidade dos raios luminosos, segundo o qual:

Se um raio de luz pode se propagar do ponto A ao ponto B seguindo um determinado caminho Ã³ptico, entÃ£o um raio emitido de B para A seguirÃ¡ exatamente o mesmo trajeto, em sentido inverso.

Consequentemente, o problema de visibilidade pode ser tratado de forma equivalente por:

Raios emitidos do observador em direÃ§Ã£o ao objeto
ou

Raios emitidos do objeto em direÃ§Ã£o ao observador

Por conveniÃªncia computacional e conceitual, o simulador adota a emissÃ£o de raios a partir do observador, sem perda de generalidade fÃ­sica.

3. DefiniÃ§Ã£o Formal de Visibilidade
3.1 DefiniÃ§Ã£o Geral

Um ponto de um objeto Ã© considerado visÃ­vel se existir ao menos um raio Ã³ptico fisicamente vÃ¡lido que:

Parte do observador

Propaga-se segundo o modelo fÃ­sico selecionado

Intersecta esse ponto do objeto

Sem ser bloqueado pela superfÃ­cie da Terra

3.2 Visibilidade Parcial

Um objeto pode ser:

Totalmente visÃ­vel

Parcialmente visÃ­vel

Totalmente oculto

A fraÃ§Ã£o visÃ­vel do objeto Ã© definida como:

ğ‘‰
=
ğ»
ğ‘£
ğ‘–
ğ‘ 
Ä±
ËŠ
ğ‘£
ğ‘’
ğ‘™
ğ»
ğ‘¡
ğ‘œ
ğ‘¡
ğ‘
ğ‘™
V=
H
total
	â€‹

H
vis
Ä±
ËŠ
vel
	â€‹

	â€‹


onde:

ğ»
ğ‘£
ğ‘–
ğ‘ 
Ä±
ËŠ
ğ‘£
ğ‘’
ğ‘™
H
vis
Ä±
ËŠ
vel
	â€‹

 Ã© a extensÃ£o vertical visÃ­vel do objeto

ğ»
ğ‘¡
ğ‘œ
ğ‘¡
ğ‘
ğ‘™
H
total
	â€‹

 Ã© a altura total do objeto

4. Modelagem GeomÃ©trica do Objeto
4.1 RepresentaÃ§Ã£o do Objeto

O objeto Ã© modelado como um segmento vertical localizado a uma distÃ¢ncia horizontal fixa em relaÃ§Ã£o ao observador.

ParÃ¢metros do objeto:

DistÃ¢ncia horizontal ao observador: 
ğ‘‘
ğ‘œ
ğ‘
ğ‘—
d
obj
	â€‹


Altura da base em relaÃ§Ã£o Ã  superfÃ­cie: 
â„
ğ‘
ğ‘
ğ‘ 
ğ‘’
h
base
	â€‹


Altura total do objeto: 
ğ»
ğ‘œ
ğ‘
ğ‘—
H
obj
	â€‹


O objeto ocupa o intervalo vertical:

[
â„
ğ‘
ğ‘
ğ‘ 
ğ‘’
,
 
â„
ğ‘
ğ‘
ğ‘ 
ğ‘’
+
ğ»
ğ‘œ
ğ‘
ğ‘—
]
[h
base
	â€‹

, h
base
	â€‹

+H
obj
	â€‹

]
4.2 DiscretizaÃ§Ã£o Vertical

Para o cÃ¡lculo da visibilidade, o objeto Ã© discretizado em 
ğ‘
N pontos verticais igualmente espaÃ§ados:

ğ‘§
ğ‘–
=
â„
ğ‘
ğ‘
ğ‘ 
ğ‘’
+
ğ‘–
â‹…
Î”
ğ‘§
com
ğ‘–
=
0
,
1
,
.
.
.
,
ğ‘
z
i
	â€‹

=h
base
	â€‹

+iâ‹…Î”zcomi=0,1,...,N

Cada ponto 
ğ‘§
ğ‘–
z
i
	â€‹

 Ã© avaliado individualmente quanto Ã  sua visibilidade.

5. EmissÃ£o e TraÃ§ado de Raios
5.1 EmissÃ£o Angular

O observador emite mÃºltiplos raios em diferentes Ã¢ngulos verticais 
ğœƒ
Î¸, cobrindo um intervalo suficientemente amplo para interceptar todo o objeto:

ğœƒ
âˆˆ
[
ğœƒ
ğ‘š
ğ‘–
ğ‘›
,
 
ğœƒ
ğ‘š
ğ‘
ğ‘¥
]
Î¸âˆˆ[Î¸
min
	â€‹

, Î¸
max
	â€‹

]

A resoluÃ§Ã£o angular Ã© configurÃ¡vel e controla a precisÃ£o do cÃ¡lculo.

5.2 PropagaÃ§Ã£o dos Raios

Cada raio Ã© propagado de acordo com o modelo fÃ­sico selecionado:

Sem refraÃ§Ã£o: trajetÃ³rias retilÃ­neas

RefraÃ§Ã£o mÃ©dia: curvatura constante equivalente (7/6 R)

Gradiente contÃ­nuo: integraÃ§Ã£o diferencial

Atmosfera em camadas: integraÃ§Ã£o numÃ©rica por passos

5.3 CondiÃ§Ãµes de InterrupÃ§Ã£o

A propagaÃ§Ã£o de um raio Ã© interrompida se:

O raio intersectar a superfÃ­cie da Terra

O raio ultrapassar a distÃ¢ncia mÃ¡xima de interesse

O raio atingir o objeto

6. Teste de InterseÃ§Ã£o com o Objeto

Um ponto 
ğ‘§
ğ‘–
z
i
	â€‹

 do objeto Ã© considerado visÃ­vel se:

Existe ao menos um raio cuja trajetÃ³ria intersecta o plano vertical do objeto

A interseÃ§Ã£o ocorre dentro do intervalo vertical correspondente a 
ğ‘§
ğ‘–
z
i
	â€‹


O raio nÃ£o foi bloqueado antes pela superfÃ­cie

Esse teste Ã© puramente geomÃ©trico e independe da origem do raio.

7. CÃ¡lculo da PorÃ§Ã£o VisÃ­vel

ApÃ³s avaliar todos os pontos discretizados do objeto:

ğ»
ğ‘£
ğ‘–
ğ‘ 
Ä±
ËŠ
ğ‘£
ğ‘’
ğ‘™
=
âˆ‘
ğ‘–
=
0
ğ‘
Î”
ğ‘§
â‹…
1
ğ‘£
ğ‘–
ğ‘ 
Ä±
ËŠ
ğ‘£
ğ‘’
ğ‘™
(
ğ‘§
ğ‘–
)
H
vis
Ä±
ËŠ
vel
	â€‹

=
i=0
âˆ‘
N
	â€‹

Î”zâ‹…1
vis
Ä±
ËŠ
vel
	â€‹

(z
i
	â€‹

)

onde 
1
ğ‘£
ğ‘–
ğ‘ 
Ä±
ËŠ
ğ‘£
ğ‘’
ğ‘™
1
vis
Ä±
ËŠ
vel
	â€‹

 Ã© a funÃ§Ã£o indicadora de visibilidade.

A fraÃ§Ã£o visÃ­vel 
ğ‘‰
V Ã© entÃ£o calculada conforme definido na seÃ§Ã£o 3.2.

8. ComparaÃ§Ã£o Entre Modelos

O mesmo procedimento de cÃ¡lculo de visibilidade serÃ¡ aplicado de forma idÃªntica para:

Terra curva vs. Terra plana

Diferentes modelos de refraÃ§Ã£o

Diferentes perfis atmosfÃ©ricos

Garantindo que qualquer diferenÃ§a observada seja consequÃªncia exclusiva das hipÃ³teses fÃ­sicas adotadas.

9. Casos Limite e ConsistÃªncia FÃ­sica

O modelo deve satisfazer os seguintes casos limite:

Sem refraÃ§Ã£o + Terra plana â†’ visibilidade puramente geomÃ©trica

RefraÃ§Ã£o crescente â†’ aumento progressivo da porÃ§Ã£o visÃ­vel

InversÃ£o tÃ©rmica â†’ possibilidade de mÃºltiplas interseÃ§Ãµes e miragens

Nenhum tratamento especial serÃ¡ aplicado a esses casos; todos devem emergir naturalmente do modelo.

10. RelaÃ§Ã£o com os Documentos Anteriores

Este documento:

Depende diretamente do Passo 0 â€“ Escopo FÃ­sico

Utiliza o nÃºcleo geomÃ©trico definido nos Passos 1 a 3

NÃ£o altera a arquitetura definida no Passo 6

Formaliza a funcionalidade central do simulador

11. Filosofia do Modelo de Visibilidade

O cÃ¡lculo de visibilidade neste projeto Ã©:

Fisicamente reversÃ­vel

Geometricamente explÃ­cito

Numericamente controlÃ¡vel

Cientificamente auditÃ¡vel

O simulador nÃ£o decide o que Ã© visÃ­vel; a fÃ­sica decide.

Fim do Documento â€“ Passo 7: Modelo Formal de CÃ¡lculo de Visibilidade