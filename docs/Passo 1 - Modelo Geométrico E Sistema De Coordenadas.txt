# Documento â€“ Passo 1

## Modelo GeomÃ©trico e Sistema de Coordenadas

---

## 1. Objetivo do Passo 1

Este documento define formalmente o **modelo geomÃ©trico** e o **sistema de coordenadas** utilizados pelo simulador, servindo como base matemÃ¡tica para todas as etapas posteriores, incluindo traÃ§ado de raios, refraÃ§Ã£o atmosfÃ©rica e visualizaÃ§Ã£o.

O objetivo Ã© garantir:

* ConsistÃªncia matemÃ¡tica entre os modelos de Terra curva e Terra plana
* Compatibilidade direta com mÃ©todos numÃ©ricos de integraÃ§Ã£o de trajetÃ³rias
* Clareza na definiÃ§Ã£o de Ã¢ngulos, alturas e distÃ¢ncias

Nenhum efeito atmosfÃ©rico ou refraÃ§Ã£o Ã© considerado neste passo.

---

## 2. Sistema de Coordenadas Global

### 2.1 Tipo de Sistema

SerÃ¡ utilizado um **sistema de coordenadas cartesianas bidimensional (x, z)**, onde:

* **x**: distÃ¢ncia horizontal ao longo da superfÃ­cie
* **z**: altura vertical

O sistema Ã© definido em um **plano de corte vertical** que contÃ©m o observador e o horizonte.

---

### 2.2 Unidades

* Todas as grandezas espaciais serÃ£o expressas em **metros (m)**
* Ã‚ngulos serÃ£o expressos em **radianos** internamente
* ConversÃµes para graus ocorrerÃ£o apenas na interface de usuÃ¡rio

---

## 3. Modelo GeomÃ©trico â€“ Terra Plana

### 3.1 DefiniÃ§Ã£o da SuperfÃ­cie

* A superfÃ­cie da Terra plana Ã© representada pela reta:

[
z = 0
]

* O plano se estende indefinidamente ao longo do eixo x

---

### 3.2 Vertical e Horizonte

* A vertical Ã© globalmente paralela ao eixo z
* A normal Ã  superfÃ­cie Ã© constante
* O horizonte geomÃ©trico, neste modelo, Ã© infinito (nÃ£o hÃ¡ ocultaÃ§Ã£o geomÃ©trica)

---

### 3.3 Altura

A altura de qualquer ponto Ã© definida diretamente como:

[
h = z
]

---

## 4. Modelo GeomÃ©trico â€“ Terra EsfÃ©rica

### 4.1 DefiniÃ§Ã£o da Esfera

* A Terra Ã© modelada como uma esfera perfeita de raio constante:

[
R = 6.371.000;m
]

* O centro da Terra Ã© fixado no ponto:

[
(x_c, z_c) = (0, -R)
]

---

### 4.2 SuperfÃ­cie da Terra

A superfÃ­cie Ã© definida pelo conjunto de pontos que satisfazem:

[
x^2 + (z + R)^2 = R^2
]

Este posicionamento garante que:

* O ponto (0, 0) esteja na superfÃ­cie
* O eixo z seja localmente vertical no observador

---

### 4.3 Altura GeomÃ©trica

A altura de um ponto acima da superfÃ­cie Ã© definida como:

[
h = \sqrt{x^2 + (z + R)^2} - R
]

---

### 4.4 Vertical Local

A vertical local em um ponto da superfÃ­cie Ã© definida pelo vetor radial:

[
\vec{v} = \frac{(x, z + R)}{\sqrt{x^2 + (z + R)^2}}
]

---

## 5. Observador

### 5.1 PosiÃ§Ã£o do Observador

O observador Ã© definido por:

* PosiÃ§Ã£o horizontal: ( x = 0 )
* Altura acima da superfÃ­cie: ( h_{obs} )

Na Terra plana:
[
z_{obs} = h_{obs}
]

Na Terra esfÃ©rica:
[
z_{obs} = h_{obs}
]

(considerando o sistema local definido na SeÃ§Ã£o 4)

---

### 5.2 Referencial Angular do Observador

O Ã¢ngulo de emissÃ£o de um raio ( \theta ) Ã© definido como:

* ( \theta = 0 ): direÃ§Ã£o tangente local Ã  superfÃ­cie
* ( \theta > 0 ): acima do horizonte
* ( \theta < 0 ): abaixo do horizonte

No modelo esfÃ©rico, o Ã¢ngulo Ã© sempre definido **em relaÃ§Ã£o Ã  horizontal local do observador**.

---

6. Objetos FÃ­sicos Distantes
6.1 DefiniÃ§Ã£o GeomÃ©trica do Objeto

Um objeto fÃ­sico distante serÃ¡ representado, no plano (x, z), como um segmento vertical definido por:

PosiÃ§Ã£o horizontal fixa: ( x = x_obj )

Altura da base: ( h_base )

Altura do topo: ( h_top )

No sistema de coordenadas:

Terra plana:

z_base = h_base
z_top  = h_top


Terra esfÃ©rica:

z_base = funÃ§Ã£o implÃ­cita da superfÃ­cie + h_base
z_top  = funÃ§Ã£o implÃ­cita da superfÃ­cie + h_top
ðŸ“Œ O objeto Ã© assumido perpendicular Ã  superfÃ­cie local.

6.2 EspaÃ§o VisÃ­vel do Objeto

Define-se como potencialmente visÃ­vel qualquer ponto do objeto que:

Seja interceptado por ao menos um raio

Antes da interseÃ§Ã£o desse raio com a superfÃ­cie da Terra

A visibilidade nÃ£o Ã© assumida a priori â€” ela emerge do traÃ§ado dos raios.

6.3 RepresentaÃ§Ã£o Angular da Visibilidade

Cada ponto do objeto corresponde a um Ã¢ngulo aparente no observador:

O conjunto de Ã¢ngulos para os quais raios interceptam o objeto define:

O intervalo angular visÃ­vel do objeto

A porÃ§Ã£o visÃ­vel Ã© dada pela interseÃ§Ã£o entre:

Intervalo angular do objeto

Intervalo angular nÃ£o bloqueado pela superfÃ­cie

6.4 CÃ¡lculo da FraÃ§Ã£o VisÃ­vel (DefiniÃ§Ã£o GeomÃ©trica)

A fraÃ§Ã£o visÃ­vel do objeto Ã© definida como:

ð‘“
ð‘£
ð‘–
ð‘ 
Ä±
ËŠ
ð‘£
ð‘’
ð‘™
=
â„Ž
ð‘£
ð‘–
ð‘ 
Ä±
ËŠ
ð‘£
ð‘’
ð‘™
â„Ž
ð‘¡
ð‘œ
ð‘¡
ð‘Ž
ð‘™
f
vis
Ä±
ËŠ
vel
	â€‹

=
h
total
	â€‹

h
vis
Ä±
ËŠ
vel
	â€‹

	â€‹


onde:

â„Ž
ð‘¡
ð‘œ
ð‘¡
ð‘Ž
ð‘™
=
â„Ž
ð‘¡
ð‘œ
ð‘
âˆ’
â„Ž
ð‘
ð‘Ž
ð‘ 
ð‘’
h
total
	â€‹

=h
top
	â€‹

âˆ’h
base
	â€‹


â„Ž
ð‘£
ð‘–
ð‘ 
Ä±
ËŠ
ð‘£
ð‘’
ð‘™
h
vis
Ä±
ËŠ
vel
	â€‹

 Ã© o comprimento vertical do objeto atingido por raios vÃ¡lidos

ðŸ“Œ Esse cÃ¡lculo Ã© puramente geomÃ©trico neste passo (sem refraÃ§Ã£o).

---

## 7. RepresentaÃ§Ã£o dos Raios de Luz (Sem RefraÃ§Ã£o)

### 7.1 DefiniÃ§Ã£o de um Raio

Um raio de luz Ã© definido por:

* PosiÃ§Ã£o inicial: ( (x_0, z_0) )
* DireÃ§Ã£o inicial: ( \theta_0 )

O vetor direÃ§Ã£o unitÃ¡rio Ã© dado por:

[
\hat{d} = (\cos \theta_0, \sin \theta_0)
]

---

### 7.2 EquaÃ§Ã£o ParamÃ©trica do Raio

A trajetÃ³ria do raio, na ausÃªncia de refraÃ§Ã£o, Ã© dada por:

[
x(s) = x_0 + s \cos \theta_0
]
[
z(s) = z_0 + s \sin \theta_0
]

onde ( s ) Ã© o parÃ¢metro de comprimento de arco.

---

## 8. InterseÃ§Ã£o com a SuperfÃ­cie

### 8.1 Terra Plana

A interseÃ§Ã£o ocorre quando:

[
z(s) = 0
]

---

### 8.2 Terra EsfÃ©rica

A interseÃ§Ã£o ocorre quando:

[
x(s)^2 + (z(s) + R)^2 = R^2
]

A menor soluÃ§Ã£o positiva de ( s ) define o ponto de impacto do raio com a superfÃ­cie.

---

## 9. Horizonte GeomÃ©trico

### 9.1 DefiniÃ§Ã£o

O horizonte geomÃ©trico Ã© definido como o limite entre raios que:

* Intersectam a superfÃ­cie
* NÃ£o intersectam a superfÃ­cie

---

### 9.2 CondiÃ§Ã£o de TangÃªncia (Terra EsfÃ©rica)

O horizonte ocorre quando o raio Ã© tangente Ã  esfera:

[
\vec{r} \cdot \hat{d} = 0
]

no ponto de tangÃªncia.

O horizonte geomÃ©trico define o limite a partir do qual objetos passam a sofrer ocultaÃ§Ã£o parcial ou total. A visibilidade de um objeto distante serÃ¡ determinada comparando sua extensÃ£o vertical com a posiÃ§Ã£o angular do horizonte.

---

## 10. CritÃ©rios de ValidaÃ§Ã£o do Passo 1

O Passo 1 serÃ¡ considerado concluÃ­do quando:

* O sistema de coordenadas for Ãºnico e consistente
* O observador estiver corretamente definido em ambos os modelos
* Raios retilÃ­neos se comportarem conforme a geometria esperada
* O horizonte geomÃ©trico for corretamente identificado

---

## 11. Papel do Passo 1 no Projeto

Este documento estabelece a base matemÃ¡tica sobre a qual:

* A refraÃ§Ã£o atmosfÃ©rica serÃ¡ aplicada
* MÃ©todos numÃ©ricos de integraÃ§Ã£o atuarÃ£o
* FenÃ´menos Ã³pticos emergirÃ£o naturalmente

Nenhuma modificaÃ§Ã£o futura deverÃ¡ violar as definiÃ§Ãµes aqui estabelecidas.

---

**Fim do Documento â€“ Passo 1: Modelo GeomÃ©trico e Sistema de Coordenadas**
